<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecionamento</title>
    <script>
       // Função para extrair o domínio principal
function getMainDomain(url) {
    var anchor = document.createElement('a');
    anchor.href = url;
    return anchor.hostname;
}

// Função para extrair os parâmetros da URL
function getUrlParameters(url) {
    var anchor = document.createElement('a');
    anchor.href = url;

    // Cria um objeto URLSearchParams para facilitar a manipulação
    return new URLSearchParams(anchor.search);
}

// Obtém o link da página anterior
var previousPageLink = document.referrer;

// Extrai o domínio principal
var mainDomain = getMainDomain(previousPageLink);

// Extrai os parâmetros da URL da página anterior
var urlParams = getUrlParameters(previousPageLink);

// Armazena o domínio e os parâmetros no armazenamento local
localStorage.setItem("previousDomain", mainDomain);
localStorage.setItem("previousParams", urlParams.toString());

// Exibe o resultado no console
console.log("Domínio da página anterior: ", mainDomain);
console.log("Parâmetros da página anterior: ", urlParams.toString());

    </script>
</head>
<body>
</body>
</html>
